# JARVIS OS Build Configuration
# 
# This file defines all variables used by the build scripts and Makefile.
# 
# To use this configuration:
#   1. Copy this file to build.config: cp build.config.example build.config
#   2. Adjust the values below to match your system and preferences
#   3. All paths starting with "/" are relative to PROJECT_ROOT
#   4. Absolute paths can also be used if needed
#
# NOTE: This file is sourced by bash scripts, so use bash syntax.
#       Variables are also used in Makefile, so ensure compatibility.

# ============================================================================
# REQUIRED VARIABLES
# ============================================================================

# PROJECT_ROOT: Absolute path to the JARVIS OS project root directory
# This should be the directory containing the scripts/ folder
# Example: /home/user/jarvisos or /path/to/jarvisos
PROJECT_ROOT=""

# SCRIPTS_DIR: Path to the scripts directory (relative to PROJECT_ROOT)
# This is where all build scripts (01-extract-iso.sh, etc.) are located
# Default: /scripts (relative to PROJECT_ROOT)
SCRIPTS_DIR="/scripts"

# ============================================================================
# BUILD DIRECTORIES
# ============================================================================

# BUILD_DIR: Directory where build artifacts are stored (relative to PROJECT_ROOT)
# This includes extracted ISOs, rootfs, and final ISO output
# Default: /build
BUILD_DIR="/build"

# BUILD_DEPS_DIR: Directory for build dependencies (relative to PROJECT_ROOT)
# This is where source ISOs and other dependencies are stored
# Default: /build-deps
BUILD_DEPS_DIR="/build-deps"

# ISO_EXTRACT_DIR: Directory where ISO is extracted (relative to BUILD_DIR)
# This is a subdirectory of BUILD_DIR where the extracted ISO contents go
# Default: /iso-extract
ISO_EXTRACT_DIR="/iso-extract"

# ============================================================================
# ISO FILES
# ============================================================================

# ISO_FILE: Name of the source Arch Linux ISO file
# This file should be placed in BUILD_DEPS_DIR
# The script will look for: ${BUILD_DEPS_DIR}/${ISO_FILE}
# Example: archlinux-2024.01.01-x86_64.iso
# NOTE: Download the Arch Linux ISO and place it in build-deps/ directory
ISO_FILE="archlinux-2025.11.01-x86_64.iso"

# JARVIS_ISO_FILE: Name pattern for the final JARVIS OS ISO file
# This is used by booter.sh to boot the final ISO
# The actual filename will be: jarvisos-YYYYMMDD-x86_64.iso
# This variable is used as a pattern/filter
# Default: jarvisos-*-x86_64.iso
JARVIS_ISO_FILE="jarvisos-*-x86_64.iso"

# ============================================================================
# OPTIONAL BUILD LOGGING
# ============================================================================

# ENABLE_BUILD_LOG: Enable build logging to file
# Set to "true" to enable logging, "false" to disable
# Default: false (disabled)
# When enabled, build operations and errors will be logged to BUILD_LOG_FILE
ENABLE_BUILD_LOG="false"

# BUILD_LOG_FILE: Path to build log file (relative to PROJECT_ROOT)
# This file will contain detailed logs of build operations
# Default: ${BUILD_DIR}/build.log
# Example: /build/build.log (relative to PROJECT_ROOT)
# Only used if ENABLE_BUILD_LOG is set to "true"
BUILD_LOG_FILE="/build/build.log"

# ============================================================================
# USAGE NOTES
# ============================================================================
#
# Example configuration for a typical setup:
#
#   PROJECT_ROOT="/home/user/jarvisos"
#   SCRIPTS_DIR="/scripts"
#   BUILD_DIR="/build"
#   BUILD_DEPS_DIR="/build-deps"
#   ISO_EXTRACT_DIR="/iso-extract"
#   ISO_FILE="archlinux-2024.01.01-x86_64.iso"
#   JARVIS_ISO_FILE="jarvisos-*-x86_64.iso"
#
# This would result in:
#   - Scripts: /home/user/jarvisos/scripts/
#   - Build dir: /home/user/jarvisos/build/
#   - Dependencies: /home/user/jarvisos/build-deps/
#   - ISO source: /home/user/jarvisos/build-deps/archlinux-2024.01.01-x86_64.iso
#   - ISO extract: /home/user/jarvisos/build/iso-extract/
#   - Rootfs: /home/user/jarvisos/build/iso-rootfs/
#   - Final ISO: /home/user/jarvisos/build/jarvisos-YYYYMMDD-x86_64.iso
#
# ============================================================================
# VALIDATION
# ============================================================================
#
# The build system will validate that:
#   - PROJECT_ROOT is set and is a valid directory
#   - SCRIPTS_DIR is set and contains the build scripts
#   - ISO_FILE exists in BUILD_DEPS_DIR (for step 1)
#
# If any required variables are missing, the build will fail with a clear error.

