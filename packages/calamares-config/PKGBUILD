# Maintainer: JARVIS OS Team
pkgname=calamares-config
pkgver=1.0.0
pkgrel=1
pkgdesc="Calamares installer configuration for JARVIS OS"
arch=('any')
license=('MIT')
depends=('calamares')
source=()

package() {
    # Use $startdir to reference the PKGBUILD directory
    # This is where our etc/, usr/, and root/ directories are located
    local sourcedir="${startdir}"
    
    # Install Calamares configuration files
    cp -r "${sourcedir}/etc" "${pkgdir}/"
    cp -r "${sourcedir}/usr" "${pkgdir}/"
    
    # Install root user files (Desktop launcher)
    # Note: root/Desktop files go to /root/Desktop in the installed system
    mkdir -p "${pkgdir}/root/Desktop"
    cp "${sourcedir}/root/Desktop/calamares.desktop" "${pkgdir}/root/Desktop/"
    
    # Set proper permissions
    chmod +x "${pkgdir}/usr/local/bin/configure-jarvis.sh"
    chmod +x "${pkgdir}/root/Desktop/calamares.desktop"
}

